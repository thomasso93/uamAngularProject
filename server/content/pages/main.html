<html ng-app="pizzaApp">
  <head>
    <meta charset="utf-8">
    <title>Pizzeria</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular-route.min.js"></script>
    <script src="script.js"></script>
  </head>
  <body ng-controller="mainController">
      
      <div class="main">
          <div class="menu" data-ng-init="getMenu()">

            <h1>Menu:</h1>  
            <table id="menu">
                <tr>
                    <th>Numer</th>
                    <th>Nazwa</th>
                    <th>Składniki</th>
                    <th>Cena</th>
                    <th>Ilość</th>
                    <th></th>
                </tr>

                <tr ng-repeat="pizza in menuRes">
                    <td class="menu">  {{ pizza.id }} </td>
                    <td class="menu"> {{ pizza.name}} </td>
                    <td class="menu">
                        <option ng-repeat="ingredient in pizza.ingredients" value="{{ingredient}}">{{ingredient}}</option>
                    </td>
                    <td class="menu"> {{ pizza.price}} </td>
                    <td class="menu">
                          <input id="{{pizza}}" name="quantity" ng-model="pizza.quantity">
                    </td>
                    <td class="menu">
                        <button ng-click="addPizzaToBasket(pizza)">DODAJ</button>
                    </td>
                </tr>
            </table>

          </div>

          <div class="basket">
            <h1>Koszyk</h1>
              
              <table>
                <tr>
                    <th>Nazwa</th>
                    <th>Ilość</th>
                    <th>Cena</th>
                    <th></th>
                </tr>
                <tr ng-repeat="order in orders">
                    <td>{{order.name}}</td>   
                    <td>{{order.quantity}}</td>   
                    <td>{{order.price.toFixed(2)}}</td>   
                    <td>
                        <button ng-click="deletePizzaFromBasket(pizza)">Usuń</button>
                    </td>
                </tr>
                <tr>
                    <td>Razem: {{totalPrice()}}</td>
                    <td></td>
                </tr>  
                <tr>
                    <td>
                        <button ng-click="finalizeOrder()">Kontynuuj</button>
                    </td>  
                </tr>  
              </table>
              
          </div>
      </div>          
 
  </body>
</html>